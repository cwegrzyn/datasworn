id: starforged
package_type: ruleset
assets:
  path:
    source:
      <<: &Source
        title: 'Ironsworn: Starforged Rulebook'
        license: https://creativecommons.org/licenses/by/4.0
        url: https://ironswornrpg.com
        date: 2022-05-06
        authors:
          - name: Shawn Tomkin
      page: 56
    name: Path Assets
    color: &PathAsset.color '#3f7faa'
    # summary: Background aspects, careers, interests, training, and skills.
    description: |-
      **Paths** are your background, interests, training, skills, powers, and key equipment. They provide mechanical and narrative advantages, but also reflect who you are and how you interact with the world. When you create your character in the next chapter, you'll select at least two paths to get started.

      Some paths represent your skill with a signature weapon style or piece of equipment. If you see a requirement at the top of the asset card, such as “If you wield a bladed weapon…,” the asset is only usable when taking action using that item.
    contents:
      ace:
        name: Ace
        <<: &PathAsset
          asset_type: Path
          color: *PathAsset.color
          source: &AssetSource
            <<: *Source
            title: 'Ironsworn: Starforged Assets'
        abilities:
          - text: |-
              When you [Face Danger](id:starforged/moves/adventure/face_danger) or [React Under Fire](id:starforged/moves/combat/react_under_fire) by guiding your vehicle through a hazard or out of harm’s way, add +1 and take +1 momentum on a hit.
            enabled: true
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/face_danger'
                  - starforged/moves/combat/react_under_fire
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By guiding your vehicle through a hazard or out of harm’s way
                      roll_options: null
                      method: null

          - text: |-
              When you [Gain Ground](id:starforged/moves/combat/gain_ground) by maneuvering your vehicle against a foe, add +1. If you score a strong hit with a 4, 5, or 6 on the action die, you may put yourself in firing position. If you do, set aside the action die or note its value. If you or an ally [Strike](id:starforged/moves/combat/strike) using the vehicle’s weapons, preset your action die with that value. This persists until you fail to score a strong hit on that move, or until you make another move which changes your vehicle’s position.
            enhance_moves:
              - roll_type: action_roll
                enhances:
                  - starforged/moves/combat/gain_ground
                trigger:
                  conditions:
                    - text: By maneuvering your vehicle against a foe
                      roll_options: null
                      method: null
          - text: |-
              When you must [Endure Stress](id:starforged/moves/suffer/endure_stress) while piloting a vehicle, you may roll +integrity. If you do, take +1 momentum on a strong hit.
            enhance_moves:
              - enhances:
                  - starforged/moves/suffer/endure_stress
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: While piloting a vehicle
                      method: player_choice
                      roll_options:
                        - using: asset_control
                          assets:
                            - '*/assets/command_vehicle/*'
                            - '*/assets/support_vehicle/*'
                            - '*/assets/incidental_vehicle/*'
                          control: integrity
      archer:
        name: Archer
        <<: *PathAsset
        requirement: If you wield a power bow...
        controls:
          ammo:
            field_type: condition_meter
            label: ammo
            max: 6
            min: 0
            value: 6
            moves:
              recover:
                - starforged/assets/path/archer/abilities/0/moves/craft_projectiles
        abilities:
          - text: &ArcherMove.text |-
              You carry 6 ammo. When you [Strike](id:starforged/moves/combat/strike) or [Clash](id:starforged/moves/combat/clash), you may add +1 or +2 and suffer that amount as -ammo. To replenish your ammo by crafting projectiles, roll +wits. On a strong hit, take up to +6 ammo. On a weak hit, take up to +4 ammo and [Sacrifice Resources](id:starforged/moves/suffer/sacrifice_resources) (-1). On a miss, [Sacrifice Resources](id:starforged/moves/suffer/sacrifice_resources) (-1).
            moves:
              craft_projectiles:
                name: Craft Projectiles
                source: *AssetSource
                roll_type: action_roll
                trigger:
                  text: When you replenish your ammo by crafting projectiles...
                  conditions:
                    - method: player_choice
                      roll_options:
                        - using: stat
                          stat: wits
                text: *ArcherMove.text
                outcomes:
                  strong_hit:
                    text: |-
                      On a **strong hit**, take up to +6 ammo.
                  weak_hit:
                    text: |-
                      On a **weak hit**, take up to +4 ammo and [Sacrifice Resources](id:starforged/moves/suffer/sacrifice_resources) (-1).
                  miss:
                    text: |-
                      On a **miss**, [Sacrifice Resources](id:starforged/moves/suffer/sacrifice_resources) (-1).

            enabled: true
          - text: |-
              You may [Enter the Fray](id:starforged/moves/combat/enter_the_fray) by unleashing a volley of bow shots. If you do, roll +ammo and suffer -1 ammo. On a hit, mark progress.
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/enter_the_fray
                roll_type: action_roll
                trigger:
                  conditions:
                    - method: player_choice
                      roll_options:
                        - using: asset_control
                          assets: null
                          control: ammo
                      text: By unleashing a volley of bow shots
          - text: |-
              When you load a specialized projectile such as a zip line, explosive, or electromagnetic disrupter, suffer -1 ammo. If you then take your shot by making a move, you may preset your action die to 5. On a hit, envision the effects and take +1 momentum.
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: Using a specialized projectile such as a zip line, explosive, or electromagnetic disrupter
                      roll_options: null
                      method: null
      armored:
        name: Armored
        <<: *PathAsset
        requirement: If you wear your finely crafted set of personal armor...
        controls:
          # TODO: would this be better included with the asset ability?
          broken: &BrokenControl
            label: broken
            field_type: card_flip
            disables_asset: true
        abilities:
          - text: |-
              When you [Face Danger](id:starforged/moves/adventure/face_danger), [React Under Fire](id:starforged/moves/combat/react_under_fire), or [Clash](id:starforged/moves/combat/clash) against physical attacks or impact, you may put trust in your armor’s strength. If you do, preset your action die to 4. On a strong hit with a match, take +2 momentum as you build confidence, make an impression on your foes, or improve your position.
            enabled: true
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/face_danger'
                  - starforged/moves/combat/react_under_fire
                  - starforged/moves/combat/clash
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: While putting trust in your armor’s strength against physical attacks or impact
                      method: null
                      roll_options: null
          - text: |-
              You add an important new piece to your set of armor, or upgrade its materials. As above, but preset your action die to 5 instead of 4.
          - text: |-
              When you must [Endure Harm](id:starforged/moves/suffer/endure_harm), you may instead let your armor take the hit. If you do, roll your action die. On a 4 or greater, ignore the harm. On a 1-3, ignore the harm but your armor is now broken; you must [Repair](id:starforged/moves/recover/repair) and spend 5 repair points to bring it back to working condition.
            enhance_moves:
              - enhances:
                  - starforged/moves/suffer/endure_harm
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By letting your armor take the hit
                      roll_options: null
                      method: null
      artist:
        name: Artist
        <<: *PathAsset
        abilities:
          - text: |-
              When you make a move to craft an artistic work, present an artistic gift or performance, or leave your artistic mark on an item or location, you may reroll your action die if its value is less than your spirit. On a strong hit, take +1 momentum or +1 spirit.
            enabled: true
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you make a move to craft an artistic work, present an artistic gift or performance, or leave your artistic mark on an item or location
                      roll_options: null
                      method: null
          - text: |-
              When you [Gather Information](id:starforged/moves/adventure/gather_information) or [Secure an Advantage](id:starforged/moves/adventure/secure_an_advantage) by studying the aesthetics of a being or culture, add +2.
            enhance_moves:
              - enhances:
                  - starforged/moves/adventure/gather_information
                  - 'starforged/moves/*/secure_an_advantage'
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By studying the aesthetics of a being or culture
                      roll_options: null
                      method: null
          - text: &ArtistMove |-
              When you create or perform a significant artistic work as a public memorial or tribute, roll +the stat which best represents the work’s nature. On a strong hit, the work will stand the test of time; mark 2 ticks on your bonds legacy track. On a weak hit, its impact is short-lived; mark 1 tick instead of 2. On a miss, the work is ignored, misunderstood, or co-opted, and you must [Pay the Price](id:starforged/moves/fate/pay_the_price).
            moves:
              commemorate:
                name: Commemorate
                source: *AssetSource
                roll_type: action_roll
                trigger:
                  text: When you create or perform a significant artistic work as a public memorial or tribute...
                  conditions:
                    - method: player_choice
                      text: Roll +the stat which best represents the work’s nature
                      roll_options:
                        - using: stat
                          stat: edge
                        - using: stat
                          stat: heart
                        - using: stat
                          stat: iron
                        - using: stat
                          stat: shadow
                        - using: stat
                          stat: wits
                text: *ArtistMove
                outcomes:
                  strong_hit:
                    text: |-
                      On a **strong hit**, the work will stand the test of time; mark 2 ticks on your bonds legacy track.
                  weak_hit:
                    text: |-
                      On a **weak hit**, the work's impact is short-lived; mark 1 tick on your bonds legacy track.
                  miss:
                    text: |-
                      On a **miss**, the work is ignored, misunderstood, or co-opted, and you must [Pay the Price](id:starforged/moves/fate/pay_the_price).
      augmented:
        name: Augmented
        <<: *PathAsset
        options:
          one:
            label: One
            field_type: text
          two:
            label: Two
            field_type: text
          # TODO: work out a way to model the broken state here. it can't be a card flip, because there's two separate things to break
          # maybe an ability-specific disable toggle?
        # controls:
        #   broken_one: *BrokenControl
        #   broken_two: *BrokenControl
        abilities:
          - text: |-
              You are equipped with an advanced prosthetic, implant, or mechanical enhancement. When you make a move directly aided by the augment, envision how it gives you exceptional capabilities and add +1. On a strong hit with a match, your augment exceeds expectations; take +2 momentum. On a miss with a match, the augment is broken; you must [Repair](id:starforged/moves/recover/repair) and spend 3 repair points to bring it back to working condition.
            enabled: true
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you make a move directly aided by your augment
                      roll_options: null
                      method: null
          - text: |-
              You are equipped with a second augment. It functions as above, but the benefits of the two augments do not stack.
          - text: |-
              When you must [Endure Harm](id:starforged/moves/suffer/endure_harm) or [Face Death](id:starforged/moves/threshold/face_death), you may instead mark an augment as broken. [Repair](id:starforged/moves/recover/repair) it as detailed above.
            enhance_moves:
              - enhances:
                  - starforged/moves/suffer/endure_harm
                  - starforged/moves/threshold/face_death
                roll_type: action_roll
      bannersworn:
        name: Bannersworn
        <<: *PathAsset
        options:
          ideology:
            label: Ideology
            field_type: text
        abilities:
          - text: |-
              You are bound to a clan, faction, or creed. When you [Swear an Iron Vow](id:starforged/moves/quest/swear_an_iron_vow) in service to this ideology, reroll any dice. On a hit, mark 1 tick on your bonds legacy track.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/quest/swear_an_iron_vow
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: In service to your bound clan, faction, or creed
                      roll_options: null
                      method: null
          - text: |-
              When you or an ally [Sojourn](id:starforged/moves/recover/sojourn) and score a strong hit with a match, you may envision meeting someone of the same ideology. If you [Make a Connection](id:starforged/moves/connection/make_a_connection) with them and score a hit, mark 1 tick on your bonds legacy track. When you [Forge a Bond](id:starforged/moves/connection/forge_a_bond) with anyone of your ideology, make the legacy reward one rank higher (1 extra box if already epic).
            enhance_moves:
              - enhances:
                  - starforged/moves/recover/sojourn
                roll_type: action_roll
                trigger:
                  conditions:
                    - roll_options: null
                      method: null
                      by:
                        player: true
                        ally: true
              - enhances:
                  - starforged/moves/connection/forge_a_bond
                roll_type: progress_roll
                trigger:
                  conditions:
                    - text: With anyone of your ideology
                      roll_options: null
                      method: null
          - text: |-
              When you make a progress move in direct service to your ideology, you may reroll one challenge die. If you score a strong hit with a match, your reputation grows among those who share your ideology; mark 1 tick on your bonds legacy track.
            enhance_moves:
              - roll_type: progress_roll
                trigger:
                  conditions:
                    - text: When you make a progress move in direct service to your ideology
                      roll_options: null
                      method: null
      blademaster:
        name: Blademaster
        <<: *PathAsset
        requirement: If you wield a bladed weapon...
        abilities:
          - text: |-
              When you [Clash](id:starforged/moves/combat/clash) or [Strike](id:starforged/moves/combat/strike) in close quarters, add +1. On a strong hit with a match, you are unstoppable; mark progress.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/clash
                  - starforged/moves/combat/strike
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you wield a bladed weapon in close quarters
                      roll_options: null
                      method: null
          - text: |-
              If you [Gain Ground](id:starforged/moves/combat/gain_ground) by moving into close quarters against your foe, choose your approach.

                * Charge: Roll +heart, and mark progress on a hit.
                * Evade: Roll +edge, and take +1 momentum on a hit.
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By moving into close quarters against your foe (and choosing to charge)
                      roll_options:
                        - using: stat
                          stat: heart
                      method: null
              - enhances:
                  - starforged/moves/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By moving into close quarters against your foe (and choosing to evade)
                      roll_options:
                        - using: stat
                          stat: edge
                      method: null
          - text: |-
              You wield an iconic blade. Give it a name. When you [Swear an Iron Vow](id:starforged/moves/quest/swear_an_iron_vow) by binding your promise to the blade, add +1. On a hit, fill the box below. If you make a move (including a progress move) using this oathbound blade and score a miss, you may clear the box to reroll any dice.
            options:
              name:
                label: Name
                field_type: text
            controls:
              oathbound:
                label: Oathbound
                field_type: checkbox
                value: false
            enhance_moves:
              - enhances:
                  - starforged/moves/quest/swear_an_iron_vow
                trigger:
                  conditions:
                    - text: By binding your promise to your iconic blade
                      roll_options: null
                      method: null
                roll_type: action_roll
      bounty_hunter:
        name: Bounty Hunter
        <<: *PathAsset
        abilities:
          - text: |-
              When you take a bounty contract and [Swear an Iron Vow](id:starforged/moves/quest/swear_an_iron_vow) to see it done, add +1. On a strong hit, you’ve got a solid lead and may mark progress on the quest. When you [Fulfill Your Vow](id:starforged/moves/quest/fulfill_your_vow) on a hunt, make the legacy reward one rank higher (1 extra box if already epic).
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/quest/swear_an_iron_vow
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you take a bounty contract and [Swear an Iron Vow](id:starforged/moves/quest/swear_an_iron_vow) to see it done
                      roll_options: null
                      method: null
              - enhances:
                  - starforged/moves/quest/fulfill_your_vow
                roll_type: progress_roll
                trigger:
                  conditions:
                    - text: On a hunt
                      roll_options: null
                      method: null
          - text: |-
              When you [Gather Information](id:starforged/moves/adventure/gather_information) related to a bounty, add +1. On a match, you reveal a surprising or sinister aspect of the contract; envision what you discover, and choose one.

                * Forge ahead: Mark progress on the quest. If you scored a strong hit with a match, also take +2 momentum.
                * Change loyalties: [Forsake Your Vow](id:starforged/moves/quest/forsake_your_vow) and mark 2 ticks on your bonds legacy track.
            enhance_moves:
              - enhances:
                  - starforged/moves/adventure/gather_information
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: Related to a bounty
                      roll_options: null
                      method: null
          - text: |-
              When you [Take Decisive Action](id:starforged/moves/combat/take_decisive_action) in a fight against a bounty target or their agents, you may reroll one challenge die.
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/take_decisive_action
                roll_type: progress_roll
                trigger:
                  conditions:
                    - text: In a fight against a bounty target or their agents
                      roll_options: null
                      method: null
      brawler:
        name: Brawler
        <<: *PathAsset
        requirement: If you fight unarmed or with a close quarters weapon...
        abilities:
          - text: |-
              When you [Gain Ground](id:starforged/moves/combat/gain_ground) by attempting to disarm, trip, shove, grapple, or stun your foe, add +1 and take +1 momentum on a hit.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By attempting to disarm, trip, shove, grapple, or stun your foe (while fighting unarmed or with a close quarters weapon)
                      roll_options: null
                      method: null

          - text: |-
              When you [Clash](id:starforged/moves/combat/clash) in close quarters, you may draw on your momentum to gain advantage. If you do, [Lose Momentum](id:starforged/moves/suffer/lose_momentum) (-2) and choose one (before rolling).

                * Aggressive: Count a weak hit as a strong hit.
                * Defensive: Count a miss as a weak hit.
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/clash
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: Aggressively, in close quarters (choose before rolling)
                      roll_options: null
                      method: null
              - enhances:
                  - starforged/moves/combat/clash
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: Defensively, in close quarters (choose before rolling)
                      roll_options: null
                      method: null
          - text: |-
              When you [Enter the Fray](id:starforged/moves/combat/enter_the_fray) already positioned in close quarters against your foe, mark progress on a hit. On a strong hit with a match, your initial assault leaves them stunned; also take +2 momentum.
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/enter_the_fray
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: Already positioned in close quarters against your foe
                      roll_options: null
                      method: null
      courier:
        name: Courier
        <<: *PathAsset
        abilities:
          - text: |-
              When you [Swear an Iron Vow](id:starforged/moves/quest/swear_an_iron_vow) to transport and protect something precious, set its safety to 5. When you [Undertake an Expedition](id:starforged/moves/exploration/undertake_an_expedition) or [Set a Course](id:starforged/moves/exploration/set_a_course) and score a weak hit or miss, you may suffer -1 safety as the cost. On a miss with a match, you must suffer -2 safety as the cost. When safety falls to 0, envision a major complication related to this mission. If you overcome the threat, mark progress twice on this quest. Then, set safety to 3.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/quest/swear_an_iron_vow
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: To transport and protect something precious
                      roll_options: null
                      method: null
              - enhances:
                  - starforged/moves/exploration/undertake_an_expedition
                  - starforged/moves/exploration/set_a_course
                roll_type: action_roll
                #       You may suffer -1 safety as the cost.

                #       When safety falls to 0, envision a major complication related to this mission. If you overcome the threat, mark progress twice on this quest. Then, set safety to 3.
                #         You must suffer -2 safety as the cost.

                #         When safety falls to 0, envision a major complication related to this mission. If you overcome the threat, mark progress twice on this quest. Then, set safety to 3.
          - # TODO: revisit - should this be post-roll text? what roll outcomes should it apply to?
            text: |-
              When you [Fulfill Your Vow](id:starforged/moves/quest/fulfill_your_vow) to an unbonded connection by completing a courier mission, mark progress twice on the relationship.
            enhance_moves:
              - enhances:
                  - starforged/moves/quest/fulfill_your_vow
                roll_type: progress_roll
                trigger:
                  conditions:
                    - method: null
                      text: To an unbonded connection by completing a courier mission
                      roll_options: null

          - text: |-
              When you [Sojourn](id:starforged/moves/recover/sojourn) during a courier mission, you may roll +safety. On a strong hit, take +1 safety or +1 momentum.
            enhance_moves:
              - enhances:
                  - starforged/moves/recover/sojourn
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: During a courier mission
                      method: player_choice
                      roll_options:
                        - using: asset_control
                          assets: null
                          control: safety
        controls:
          safety:
            label: safety
            field_type: condition_meter
            max: 5
            value: 0
            min: 0
      demolitionist:
        name: Demolitionist
        <<: *PathAsset
        abilities:
          - text: |-
              When you make a move to attack, destroy, or sabotage by deploying or triggering an explosive device, choose the value of your charge before rolling: normal=1, high=2, or overcharged=3. If either challenge die is equal to or less than the charge, count a weak hit as a strong hit. If not, and your action die is equal to or less than the charge, you are caught up in the destruction or set off an unintended effect; count a weak hit as a miss.
            enabled: true
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: To attack, destroy, or sabotage by deploying or triggering an explosive device
                      roll_options: null
                      method: null
          - text: |-
              When you make a move to craft, modify, or disarm an explosive device, or if you threaten or provoke by arming an explosive device, add +1 and take +1 momentum on a hit.
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: To craft, modify, or disarm an explosive device, or if you threaten or provoke by arming an explosive device
                      roll_options: null
                      method: null

          - text: |-
              When your momentum is at its max, you may reset momentum (before rolling) to trigger an explosive device as you [Take Decisive Action](id:starforged/moves/combat/take_decisive_action). If you do, reroll any challenge dice.
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/take_decisive_action
                roll_type: progress_roll
                trigger:
                  conditions:
                    - method: null
                      text: When your momentum is at its max, and you reset momentum (before rolling) to trigger an explosive device
                      roll_options: null
      devotant:
        name: Devotant
        <<: *PathAsset
        options:
          name:
            label: Name
            field_type: text
          linked_stat:
            label: Linked stat
            field_type: select_stat
            choices:
              edge:
                label: Edge
                value: edge
                option_type: option
              heart:
                label: Heart
                value: heart
                option_type: option
              iron:
                label: Iron
                value: iron
                option_type: option
              shadow:
                label: Shadow
                value: shadow
                option_type: option
              wits:
                label: Wits
                value: wits
                option_type: option
        abilities:
          - text: |-
              You worship a god, power, or entity. Give it a name and choose one of your stats to represent its nature. When you [Secure an Advantage](id:starforged/moves/adventure/secure_an_advantage) or [Gain Ground](id:starforged/moves/combat/gain_ground) by calling on it for guidance or aid, roll +linked stat. On a hit, take +1 momentum or +1 spirit. On a strong hit with a match, a miracle or sign manifests; take another +1 momentum or +1 spirit.
            enabled: true
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/secure_an_advantage'
                  - starforged/moves/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By calling on your god, power, or entity for guidance or aid
                      method: player_choice
                      roll_options:
                        - using: asset_option
                          option: linked_stat
                          assets: null
                #         A miracle or sign manifests. Choose one:

                #           * Take +2 spirit
                #           * Take +2 momentum
                #           * Take +1 spirit and +1 momentum
          - text: |-
              When you [Swear an Iron Vow](id:starforged/moves/quest/swear_an_iron_vow) in service to your faith, roll +linked stat and take +2 momentum or +2 spirit on a hit. When you [Fulfill Your Vow](id:starforged/moves/quest/fulfill_your_vow) on a divine quest (formidable or greater) and score a hit, also mark 2 ticks on your bonds legacy track.
            enhance_moves:
              - enhances:
                  - starforged/moves/quest/swear_an_iron_vow
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: In service to your faith
                      method: player_choice
                      roll_options:
                        - using: asset_option
                          option: linked_stat
                          assets: null
              - enhances:
                  - starforged/moves/quest/fulfill_your_vow
                roll_type: progress_roll
                trigger:
                  conditions:
                    - method: null
                      text: On a divine quest (formidable or greater)
                      roll_options: null
          - text: |-
              When you [Hearten](id:starforged/moves/recover/hearten) through contemplation or sharing of your faith, you may roll +linked stat. If you do, take +1 spirit or +1 momentum on a strong hit.
            enhance_moves:
              - enhances:
                  - starforged/moves/recover/hearten
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: Through contemplation or sharing of your faith
                      method: player_choice
                      roll_options:
                        - using: asset_option
                          option: linked_stat
                          assets: null
      diplomat:
        name: Diplomat
        <<: *PathAsset
        abilities:
          - text: |-
              When you [Swear an Iron Vow](id:starforged/moves/quest/swear_an_iron_vow) to resolve a dispute, negotiate an agreement, or gather support, add +1. On a strong hit, mark progress on the quest. When you [Fulfill Your Vow](id:starforged/moves/quest/fulfill_your_vow) on a diplomatic mission (formidable or greater) and score a hit, also mark 2 ticks on your bonds legacy track.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/quest/swear_an_iron_vow
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: To resolve a dispute, negotiate an agreement, or gather support
                      roll_options: null
                      method: null
              - enhances:
                  - starforged/moves/quest/fulfill_your_vow
                roll_type: progress_roll
                trigger:
                  conditions:
                    - method: null
                      text: On a diplomatic mission (formidable or greater)
                      roll_options: null
          - text: |-
              When you make a move to defuse, reason, or negotiate, add +1. On a miss, you may take a different tack. Envision this new approach, reroll all dice, and add +2. If you score a miss yet again, face a dire complication or blow to your reputation as you [Pay the Price](id:starforged/moves/fate/pay_the_price).
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: To defuse, reason, or negotiate
                      roll_options: null
                      method: null
                #         You may take a different tack. Envision this new approach, reroll all dice, and add +2. If you score a miss yet again, face a dire complication or blow to your reputation as you [Pay the Price](id:starforged/moves/fate/pay_the_price).
          - text: |-
              When you [Make a Connection](id:starforged/moves/connection/make_a_connection) or [Sojourn](id:starforged/moves/recover/sojourn), add +1. If you [Sojourn](id:starforged/moves/recover/sojourn) and score a strong hit with a match, you are shown great kindness or respect; take +2 momentum or make an extra recover move with an automatic strong hit.
            enhance_moves:
              - enhances:
                  - starforged/moves/connection/make_a_connection
                  - starforged/moves/connection/sojourn
                roll_type: action_roll
              - enhances:
                  - starforged/moves/connection/sojourn
                roll_type: action_roll
      empath:
        name: Empath
        <<: *PathAsset
        abilities:
          - text: &EmpathMove |-
              When you read the intent, emotions, or memories of a nearby being, roll +heart. On a strong hit, you glimpse a helpful aspect of their inner self. Envision what you learn, take +2 momentum, and add +1 when you make moves to interact with them in this scene. On a weak hit, the visions are murky; take +1 momentum. On a miss, you reveal a troubling motive or secret; [Pay the Price](id:starforged/moves/fate/pay_the_price).
            enabled: true
            moves:
              read_heart:
                name: Read Heart
                source: *AssetSource
                roll_type: action_roll
                trigger:
                  text: When you read the intent, emotions, or memories of a nearby being...
                  conditions:
                    - method: player_choice
                      roll_options:
                        - using: stat
                          stat: heart
                text: *EmpathMove
                outcomes:
                  strong_hit:
                    text: |-
                      On a **strong hit**, you glimpse a helpful aspect of their inner self. Envision what you learn, take +2 momentum, and add +1 when you make moves to interact with them in this scene.
                  weak_hit:
                    text: |-
                      On a **weak hit**, the visions are murky; take +1 momentum.
                  miss:
                    text: |-
                      On a **miss**, you reveal a troubling motive or secret; [Pay the Price](id:starforged/moves/fate/pay_the_price).
          - text: |-
              As above, and if you score a hit as you read them, you may subtly influence their attitude or actions, such as making a hostile being hesitate. Take another +1 momentum. If in a fight, mark progress.
            enhance_moves:
              - enhances:
                  - starforged/assets/path/empath/abilities/0/moves/read_heart
                roll_type: action_roll
          - text: |-
              When you [Face Danger](id:starforged/moves/adventure/face_danger) to soothe a being’s distress by creating an empathic bond, roll +spirit and take +1 momentum on a hit. If they are an ally, also give them +2 spirit on a hit.
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/face_danger'
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: To soothe a being's distress by creating an empathic bond
                      method: player_choice
                      roll_options:
                        - using: condition_meter
                          condition_meter: spirit
      explorer:
        name: Explorer
        <<: *PathAsset
        abilities:
          - text: |-
              When you [Explore a Waypoint](id:starforged/moves/exploration/explore_a_waypoint), take +1 momentum on a hit. When you [Finish an Expedition](id:starforged/moves/exploration/finish_an_expedition) and score a hit, mark 1 extra tick on your discoveries legacy track.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/exploration/explore_a_waypoint
                roll_type: action_roll
              - enhances:
                  - starforged/moves/exploration/finish_an_expedition
                roll_type: action_roll
          - # TODO: non move trigger
            text: |-
              When you come across a wondrous sight or phenomenon, such as an extraordinary planet, majestic creature, or dazzling stellar object, choose one:

                * Find inspiration: Take +1 momentum
                * Soak it all in: [Hearten](id:starforged/moves/recover/hearten); add +1, and take +1 momentum on a hit.
          - text: |-
              When you [Secure an Advantage](id:starforged/moves/adventure/secure_an_advantage) by studying a newfound place from a safe position, add +1 and take +1 momentum on a hit. On a strong hit with a match, take another +1 momentum and envision an unusual aspect of the site.
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/secure_an_advantage'
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By studying a newfound place from a safe position
                      roll_options: null
                      method: null
      fated:
        name: Fated
        <<: *PathAsset
        abilities:
          - text: |-
              When you fill a box on your background vow progress track, also mark 1 tick on your quests legacy track. When you [Fulfill Your Vow](id:starforged/moves/quest/fulfill_your_vow) on the background vow, your fate is at hand; take an automatic strong hit and envision the final sacrifice that brings your story to an end.
            enabled: true
            # TODO: non move trigger (fill background vow progress)
            enhance_moves:
              - enhances:
                  - starforged/moves/quest/fulfill_your_vow
                roll_type: progress_roll
                trigger:
                  conditions:
                    - text: On your background vow
                      roll_options: null
                      method: strong_hit
          - text: |-
              When you [Face Death](id:starforged/moves/threshold/face_death) or [Face Desolation](id:starforged/moves/threshold/face_desolation) while your background vow is unfulfilled, it is not yet your time. Instead of rolling, you may take an automatic strong hit. If you do, this asset counts as an impact (and you no longer have this protection) until you next [Reach a Milestone](id:starforged/moves/quest/reach_a_milestone) on the background vow.
            # TODO: conditional impact
            enhance_moves:
              - enhances:
                  - starforged/moves/threshold/face_death
                  - starforged/moves/threshold/face_desolation
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: While your background vow is unfulfilled
                      method: strong_hit
                      roll_options: null
          - text: |-
              When you make any progress move directly related to your background vow, and roll a 10 on either challenge die, you may reroll that die. On a strong hit, take +2 momentum.
            enhance_moves:
              - roll_type: progress_roll
                trigger:
                  conditions:
                    - method: null
                      text: When you make any progress move directly related to your background vow
                      roll_options: null
      firebrand:
        name: Firebrand
        <<: *PathAsset
        abilities:
          - text: &FirebrandMove |-
              You wield fiery energy. When you rest and meditate to gather this energy, roll +spirit. On a strong hit, take up to +3 fire. On a weak hit, take +2. On a miss, take +2 fire but [Endure Harm](id:starforged/moves/suffer/endure_harm) (-2). Your max fire is +5. When you make moves aided by this energy to attack or overcome obstacles, add +2 and suffer -1 fire.
            enabled: true
            moves:
              gather_energy:
                name: Gather Energy
                source: *AssetSource
                roll_type: action_roll
                trigger:
                  text: When you rest and meditate to gather fiery energy...
                  conditions:
                    - method: player_choice
                      roll_options:
                        - using: condition_meter
                          condition_meter: spirit
                text: *FirebrandMove
                outcomes:
                  strong_hit:
                    text: |-
                      On a **strong hit**, take up to +3 fire.

                      When you make moves aided by this energy to attack or overcome obstacles, add +2 and suffer -1 fire.
                  weak_hit:
                    text: |-
                      On a **weak hit**, take up to +2 fire.

                      When you make moves aided by this energy to attack or overcome obstacles, add +2 and suffer -1 fire.
                  miss:
                    text: |-
                      On a **miss**, take up to +2 fire but [Endure Harm](id:starforged/moves/suffer/endure_harm) (-2).

                      When you make moves aided by this energy to attack or overcome obstacles, add +2 and suffer -1 fire.
          - text: |-
              When you [Endure Harm](id:starforged/moves/suffer/endure_harm) and score a strong hit with a match, you may instead ignore the harm and take +fire equal to the amount of harm faced (+1, +2, or +3).
            enhance_moves:
              - enhances:
                  - starforged/moves/suffer/endure_harm
                roll_type: action_roll
          - text: |-
              When you have at least +3 fire, you may [Gain Ground](id:starforged/moves/combat/gain_ground) or [Strike](id:starforged/moves/combat/strike) by unleashing hell. If you do, take an automatic strong hit and mark progress. Then, set your fire to 0.
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/gain_ground
                  - starforged/moves/combat/strike
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you have at least +3 fire and unleash hell
                      method: strong_hit
                      roll_options: null
        controls:
          fire:
            field_type: condition_meter
            label: fire
            max: 5
            value: 0
            min: 0
      fugitive:
        name: Fugitive
        <<: *PathAsset
        abilities:
          - text: |-
              You are hunted by a power or authority. When you make a move, you may improve the result to a strong hit. If you do, fill one segment of a four-segment clock to represent hunters closing in. When the clock is filled, a notable foe or force has tracked you down. If you overcome them or escape, reset the clock and mark 1 tick on your quests legacy track.
            controls:
              clock:
                label: Notable foe or force tracks you down
                field_type: clock
                max: 4
                value: 0
                min: 0
                # position: ability_0_right
            # TODO: consider some kind of clock event object/message?
            enabled: true
          - text: |-
              When you make a move by hiding, concealing your identity, or fleeing from a pursuer, add +1 and take +1 momentum on a hit.
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: By hiding, concealing your identity, or fleeing from a pursuer
                      roll_options: null
                      method: null

          - text: |-
              When you [Fulfill Your Vow](id:starforged/moves/quest/fulfill_your_vow) (extreme or greater) by clearing your name or defeating the power or authority who marked you as a fugitive, gain this ability at no cost. You may then exchange this asset for another with the same number of marked abilities.
            # TODO: figure out if there's a sensible way to handle this
            # Alter moves:
            #   - moves:
            #       - starforged/moves/quest/fulfill_your_vow
            #     trigger:
            #       options:
            #         - text: By clearing your name or defeating the power or authority who marked you as a fugitive (extreme or greater)
            #           roll_type: progress_roll

      gearhead:
        name: Gearhead
        <<: *PathAsset
        abilities:
          - text: |-
              When you make a move to craft, repair, repurpose, or modify equipment or technology, add +1 and take +1 momentum on a hit.
            enabled: true
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: To craft, repair, repurpose, or modify equipment or technology
                      roll_options: null
                      method: null

          - text: |-
              When you [Gather Information](id:starforged/moves/adventure/gather_information) by studying or disassembling a machine or device, reroll any dice. On a match, you reveal an unexpected function, capability, or danger; mark 1 tick on your discoveries legacy track.
            enhance_moves:
              - enhances:
                  - starforged/moves/adventure/gather_information
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By studying or disassembling a machine or device
                      roll_options: null
                      method: null
          - text: |-
              With sufficient time (a couple of hours or more), you may [Secure an Advantage](id:starforged/moves/adventure/secure_an_advantage) to assemble or enhance a device for a powerful but limited role. On a hit, the device is ready for use. One time only, when you or an ally make a move aided by the device, take an automatic strong hit. If you are in a fight, also mark progress.
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/secure_an_advantage'
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By spending sufficient time (a couple of hours or more) to assemble or enhance a device for a powerful but limited role
                      roll_options: null
                      method: null
              # TODO: separate move extension for device use?
      gunner:
        name: Gunner
        <<: *PathAsset
        requirement: If you wield a heavy ranged personal weapon...
        abilities:
          - text: |-
              When you [Strike](id:starforged/moves/combat/strike), choose one (before rolling).

                * Pin them down: Add +1 and take +1 momentum on a hit.
                * Make them hurt: Mark progress on a hit.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/strike
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: With a heavy ranged personal weapon, and choose to pin them down (before rolling)
                      roll_options: null
                      method: null

              - enhances:
                  - starforged/moves/combat/strike
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: With a heavy ranged personal weapon, and choose to make them hurt (before rolling)
                      method: null
                      roll_options: null
          - text: |-
              When you [Take Decisive Action](id:starforged/moves/combat/take_decisive_action) by emptying your gun (decide before rolling), you may [Sacrifice Resources](id:starforged/moves/suffer/sacrifice_resources) (-1) and reroll one challenge die. If the fight continues or you are caught up another fight, [Check Your Gear](id:starforged/moves/adventure/check_your_gear) to see if you have more ammo on-hand.
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/take_decisive_action
                roll_type: progress_roll
                trigger:
                  conditions:
                    - method: null
                      text: By emptying your gun as you [Sacrifice Resources](id:starforged/moves/suffer/sacrifice_resources) (-1)
                      roll_options: null
          - text: |-
              Give your favorite gun a name. When you [Clash](id:starforged/moves/combat/clash) with it, add +1. When you [Enter the Fray](id:starforged/moves/combat/enter_the_fray) or [Endure Stress](id:starforged/moves/suffer/endure_stress) while wielding it, add +1 and take +1 momentum on a hit.
            options:
              name:
                label: Name
                field_type: text
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/clash
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: With your favorite gun
                      roll_options: null
                      method: null
              - enhances:
                  - starforged/moves/combat/enter_the_fray
                  - starforged/moves/suffer/endure_stress
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: While wielding your favorite gun
                      roll_options: null
                      method: null

      gunslinger:
        name: Gunslinger
        <<: *PathAsset
        requirement: If you wield a pistol...
        abilities:
          - text: |-
              When you [Enter the Fray](id:starforged/moves/combat/enter_the_fray) by facing off against your foe (+heart), or by preparing to act without tipping them off (+shadow), add +1 and take +1 momentum on a hit. On a strong hit with a match, you may immediately take a shot (without making a move) and mark progress twice.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/enter_the_fray
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By facing off against your foe
                      method: null
                      roll_options:
                        - using: stat
                          stat: heart
                    - text: By preparing to act without tipping off your foe
                      method: null
                      roll_options:
                        - using: stat
                          stat: shadow
          - text: |-
              When you [Gain Ground](id:starforged/moves/combat/gain_ground) or [React Under Fire](id:starforged/moves/combat/react_under_fire) by moving into cover, add +1. On a strong hit, this cover gives you leverage; add +1 when you make a move to attack or defend at range. If you then score a miss, the cover is lost or compromised.
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/gain_ground
                  - starforged/moves/combat/react_under_fire
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By moving into cover
                      roll_options: null
                      method: null
          - text: |-
              When you [Compel](id:starforged/moves/adventure/compel) or [Gain Ground](id:starforged/moves/combat/gain_ground) with the threat of violence by holding someone at gunpoint, add +1 and take +1 momentum on a hit.
            enhance_moves:
              - enhances:
                  - starforged/moves/adventure/compel
                  - starforged/moves/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: With the threat of violence by holding someone at gunpoint
                      roll_options: null
                      method: null

      haunted:
        name: Haunted
        <<: *PathAsset
        abilities:
          - text: |-
              You are haunted by the spirit of someone whose death you caused or mourn (or both). When you make a move to call upon their insight, add +1. On a weak hit, also [Endure Stress](id:starforged/moves/suffer/endure_stress) (-1). On a strong hit with a match, mark 1 tick on your bonds legacy track.
            enabled: true
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you make a move to call upon the insight of the spirit that haunts you
                      roll_options: null
                      method: null
          - text: |-
              When you [Face Death](id:starforged/moves/threshold/face_death) guided by the spirit, add +1. On a strong hit, envision what you learn from them or about them, and mark 2 ticks on your bonds legacy track.
            enhance_moves:
              - enhances:
                  - starforged/moves/threshold/face_death
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: Guided by the spirit that haunts you
                      roll_options: null
                      method: null
          - text: |-
              One time only, when you [Fulfill Your Vow](id:starforged/moves/quest/fulfill_your_vow) (extreme or greater) in service to the spirit, take this ability at no cost and choose one.

                * Let them go: Mark 2 ticks on your bonds legacy track for each marked ability, and discard this asset.
                * Bolster your link: When you use a HAUNTED asset ability, take +1 momentum on a hit.
            # if this asset ability is enabled, it's probably safe to assume they've kept the asset (and, thus, taken the second choice)
            # augment_abilities:
            #   - enhances:
            #       - starforged/assets/path/haunted/abilities/0
            #       - starforged/assets/path/haunted/abilities/1
            #     enhance_moves:
            # - outcomes: *Take1MomentumOnHit.outcomes
      healer:
        name: Healer
        <<: *PathAsset
        abilities:
          - text: |-
              When you give medical care to [Heal](id:starforged/moves/recover/heal) yourself or another character, add +1. If you are treating someone other than yourself, take +1 spirit or +1 momentum on a hit.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/recover/heal
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: Give medical care to yourself
                      roll_options: null
                      method: null
              - enhances:
                  - starforged/moves/recover/heal
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: Give medical care to another character
                      roll_options: null
                      method: null
          - text: |-
              When you [Gather Information](id:starforged/moves/adventure/gather_information) by studying medical evidence or biological remains, add +1 and take +1 momentum on a hit. On a strong hit with a match, you also reveal an unexpected medical anomaly; mark 1 tick on your discoveries legacy track.
            enhance_moves:
              - enhances:
                  - starforged/moves/adventure/gather_information
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By studying medical evidence or biological remains
                      roll_options: null
                      method: null
          - text: |-
              Once every day or so, when you are in a safe place with plenty of time on your hands, you may [Sacrifice Resources](id:starforged/moves/suffer/sacrifice_resources) (-1) and provide basic medical care for yourself, companions, or allies without risk. If you do, roll only your action die. On a 1-4, automatically give +1 health to everyone whose health is greater than 0. On a 5-6, make it +2.
      # TODO: style as move?
      infiltrator:
        name: Infiltrator
        <<: *PathAsset
        abilities:
          - text: |-
              When you make a move to break into a secure site, infiltrate a protected area, or hack or manipulate a secure system, add +1 and take +1 momentum on a hit. On a strong hit with a match, access is easier than expected; take another +1 momentum.
            enabled: true
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: To break into a secure site, infiltrate a protected area, or hack or manipulate a secure system
                      roll_options: null
                      method: null
          - text: |-
              When you [Face Danger](id:starforged/moves/adventure/face_danger) or [Secure an Advantage](id:starforged/moves/adventure/secure_an_advantage) to establish a false identity, add +1. On a hit, you may add +1 when using that identity to deceive or influence others. If you score a miss with a match when using that identity, your deception is completely and dramatically undone.
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/face_danger'
                  - 'starforged/moves/*/secure_an_advantage'
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: To establish a false identity
                      roll_options: null
                      method: null

          - text: |-
              When you [Check Your Gear](id:starforged/moves/adventure/check_your_gear) for a device with a specific function to aid in infiltration, espionage, or sabotage, add +1. On a hit, reroll any dice the first time you make a move aided by the device.
            enhance_moves:
              - enhances:
                  - starforged/moves/adventure/check_your_gear
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: For a device with a specific function to aid in infiltration, espionage, or sabotage
                      roll_options: null
                      method: null
      kinetic:
        name: Kinetic
        <<: *PathAsset
        abilities:
          - text: |-
              You wield kinetic powers. By focusing, you may remotely push, pull, lift, or constrict objects and beings that are about your size or smaller. When you are in a risky situation and draw on your powers to make a move, add +2 and [Lose Momentum](id:starforged/moves/suffer/lose_momentum) (-2).
            enabled: true
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you are in a risky situation and draw on your kinetic powers to make a move
                      roll_options: null
                      method: null
          - text: |-
              As above, but you may instead draw on your powers in a desperate effort to change the outcome of an action. If you do, add +2 (after you roll) and [Lose Momentum](id:starforged/moves/suffer/lose_momentum) (-3).
            # TODO: non-move trigger? sth to handle after the fact triggers?
            # alternatively: non-trigger move add-in?
          - text: |-
              When your momentum is at its max, you may attempt great kinetic feats, such as manipulating large objects and creating destructive bursts of concussive force. To do so, reset momentum. Then, as you make a single move fueled by your powers, take an automatic strong hit. If you are in a fight, mark progress.
            # TODO: flag for requiring max momentum?
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: Your momentum is at its max, and you reset your momentum to attempt great kinetic feats (such as manipulating large objects and creating destructive bursts of concussive force)
                      roll_options: null
                      method: strong_hit
      leader:
        name: Leader
        <<: *PathAsset
        abilities:
          - text: |-
              When you [Aid Your Ally](id:starforged/moves/adventure/aid_your_ally) through leadership, coordination, or planning, add +1. On a strong hit, any allies who are present take +1 momentum.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/adventure/aid_your_ally
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you [Aid Your Ally](id:starforged/moves/adventure/aid_your_ally) through leadership, coordination, or planning
                      roll_options: null
                      method: null
          - text: |-
              When you [Enter the Fray](id:starforged/moves/combat/enter_the_fray) (+heart) by coordinating with your team as they wade into the fight, make your move before your allies act. On a strong hit, all allies may take an automatic strong hit. On a strong hit with a match, also mark progress on any objectives in this fight.
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/enter_the_fray
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By coordinating with your team as they wade into the fight
                      method: null
                      roll_options:
                        - using: stat
                          stat: heart
                    - text: Coordinated by a Leader who scores a strong hit on Enter the Fray (+heart)
                      by:
                        player: false
                        ally: true
                      method: strong_hit
                      roll_options: null
          - text: |-
              When you make a move to influence someone (not an ally) through leadership, add +1 and take +1 momentum on a hit. On a strong hit with a match, your command galvanizes them into unexpected action. Take another +1 momentum, and mark 1 tick on your bonds legacy track.
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: To influence someone (not an ally) through leadership
                      roll_options: null
                      method: null
      looper:
        name: Looper
        <<: *PathAsset
        abilities:
          - text: |-
              When you score a miss on a suffer move (not [Endure Stress](id:starforged/moves/suffer/endure_stress)), you may loop back a second or two. If you do, [Lose Momentum](id:starforged/moves/suffer/lose_momentum) (-2), reroll any dice, and take +1 momentum on a strong hit.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/suffer/endure_harm
                  - starforged/moves/suffer/companion_takes_a_hit
                  - starforged/moves/suffer/withstand_damage
                roll_type:
                  action_roll
                  # TODO: possible to add cost option here?
          - text: &LooperMove |-
              When you create a link to the current point in time, note the value of condition meters for you and your allies. You can retain only one active link. If you later loop back to this moment, roll +the gap in time: +4 if minutes, +3 if hours, or +2 if days. You may not burn momentum on this roll. On a strong hit, return to the linked point, retain any progress, and set condition meters (except for spirit) to their original values. On a weak hit, as above, but [Endure Stress](id:starforged/moves/suffer/endure_stress) (-2). On a miss, as with a strong hit, but you find the timeline corrupted; [Pay the Price](id:starforged/moves/fate/pay_the_price).
            moves:
              loop_back:
                name: Loop Back
                source: *AssetSource
                # Burn momentum: false
                #TODO: add to IMove? Move usage?
                roll_type: action_roll
                trigger:
                  text: When you loop back to a linked moment in time...
                  conditions:
                    - method: player_choice
                      # time_gap
                      roll_options:
                        - using: custom
                          name: Minutes
                          value: 4
                        - using: custom
                          name: Hours
                          value: 3
                        - using: custom
                          name: Days
                          value: 2
                text: *LooperMove
                outcomes:
                  strong_hit:
                    text: |-
                      On a **strong hit**, you and your allies return to the linked point, retain any progress, and set condition meters (except for spirit) to their original values.
                  weak_hit:
                    text: |-
                      On a **weak hit**, you and your allies return to the linked point, retain any progress, and set condition meters (except for spirit) to their original values

                      However, you [Endure Stress](id:starforged/moves/suffer/endure_stress) (-2).
                  miss:
                    text: |-
                      On a **miss**, you and your allies return to the linked point, retain any progress, and set condition meters (except for spirit) to their original values.

                      However, you find the timeline corrupted! [Pay the Price](id:starforged/moves/fate/pay_the_price).
          - text: |-
              When you make a reroll granted by any asset ability on an action roll, also add +1.
      # TODO: this is a weird one! is there a non-silly way to apply this to every action die reroll from an asset ability?
      # what about "Alters: null"? is there a way to make it explicit that it's only supposed to be added to those?
      lore_hunter:
        name: Lore Hunter
        <<: *PathAsset
        abilities:
          - text: |-
              When you [Swear an Iron Vow](id:starforged/moves/quest/swear_an_iron_vow) (formidable or greater) to recover valuable knowledge or an extraordinary relic, reroll any dice. When you [Reach a Milestone](id:starforged/moves/quest/reach_a_milestone) in the pursuit of that quest, take +2 momentum. When you [Fulfill Your Vow](id:starforged/moves/quest/fulfill_your_vow) and score a hit, also mark 2 ticks on your discoveries legacy track.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/quest/swear_an_iron_vow
                roll_type: action_roll
                trigger: &LoreHunterQuestTrigger
                  conditions:
                    - text: To recover valuable knowledge or an extraordinary relic (formidable or greater)
                      roll_options: null
                      method: null
              - enhances:
                  - starforged/moves/quest/reach_a_milestone
                roll_type: no_roll
              - enhances:
                  - starforged/moves/quest/fulfill_your_vow
                roll_type: progress_roll
                trigger: *LoreHunterQuestTrigger

          - text: |-
              When you make a move to conduct extended research or study, reroll any challenge dice. On a match, you piece together an extraordinary or harrowing new theory; envision the nature of this revelation and mark 1 tick on your discoveries legacy track.
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: To conduct extended research or study
                      roll_options: null
                      method: null
          - text: |-
              When you recall esoteric knowledge to [Secure an Advantage](id:starforged/moves/adventure/secure_an_advantage) or [Gain Ground](id:starforged/moves/combat/gain_ground), add +1. On a hit, envision the obscure but helpful fact, theory, or technique you put to use, and take +1 momentum.
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/secure_an_advantage'
                  - starforged/moves/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you recall esoteric knowledge
                      roll_options: null
                      method: null
      loyalist:
        name: Loyalist
        <<: *PathAsset
        abilities:
          - text: |-
              When you [Aid Your Ally](id:starforged/moves/adventure/aid_your_ally), add +1 and take +1 momentum on a hit. This is in addition to the benefits taken by your ally. On a strong hit with a match, envision how this moment marks a breakthrough or milestone in your relationship; both of you may mark 1 tick on your bonds legacy track.
            enabled: true
            enhance_moves:
              - roll_type: no_roll
                enhances:
                  - starforged/moves/adventure/aid_your_ally
          - text: |-
              You may burn momentum on behalf of an ally to improve their result on a move. If you do, your ally takes +1 momentum.
          - text: |-
              When you stand with your ally as they make a progress move, envision how you support them. Then, roll one challenge die. On a 1-9, your ally may replace one of their challenge dice with yours. On a 10, envision how you inadvertently undermine their action; your ally must replace their lowest challenge die with yours.
            enhance_moves:
              - roll_type: progress_roll
                trigger:
                  conditions:
                    - roll_options: null
                      method: null
                      text: When you stand with your ally as they make a progress move
                      by:
                        ally: true
                        player: false
      mercenary:
        name: Mercenary
        <<: *PathAsset
        abilities:
          - text: |-
              When you agree to wage war or defend others from war in exchange for payment or promises, you may [Swear an Iron Vow](id:starforged/moves/quest/swear_an_iron_vow) to see the mission done. If you do, reroll any dice. When you [Fulfill Your Vow](id:starforged/moves/quest/fulfill_your_vow), make the legacy reward one rank higher (1 extra box if already epic).
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/quest/swear_an_iron_vow
                roll_type: action_roll
                trigger: &Mercenary.trigger
                  conditions:
                    - text: To wage war or defend others from war in exchange for payment or promises
                      roll_options: null
                      method: null
              - enhances:
                  - starforged/moves/quest/fulfill_your_vow
                roll_type: progress_roll
                trigger: *Mercenary.trigger
          - text: |-
              When you [Make a Connection](id:starforged/moves/connection/make_a_connection) by searching out or making contact with someone in need of your services, add +1 and take +1 momentum on a hit. On a strong hit with a match, this mission pits you against an unresolved aspect of your past or a hated foe; mark 2 ticks on your quests legacy track.
            enhance_moves:
              - enhances:
                  - starforged/moves/connection/make_a_connection
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By searching out or making contact with someone in need of your services
                      roll_options: null
                      method: null
          - text: |-
              When you [Check Your Gear](id:starforged/moves/adventure/check_your_gear) in the midst of a fight, or [Resupply](id:starforged/moves/recover/resupply) by looting the field of battle in the aftermath of a fight, add +2.
            enhance_moves:
              - enhances:
                  - starforged/moves/adventure/check_your_gear
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: In the midst of a fight
                      roll_options: null
                      method: null
              - enhances:
                  - starforged/moves/recover/resupply
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By looting the field of battle in the aftermath of a fight
                      roll_options: null
                      method: null
      naturalist:
        name: Naturalist
        <<: *PathAsset
        abilities:
          - text: |-
              When you [Secure an Advantage](id:starforged/moves/adventure/secure_an_advantage) or [Gather Information](id:starforged/moves/adventure/gather_information) using your knowledge of lifeforms or planetside ecosystems, add +1 and take +1 momentum on a hit. On a strong hit with a match, you also confirm an obscure theory or reveal a surprising aspect of the encounter; mark 1 tick on your discoveries legacy track.
            enabled: true
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/secure_an_advantage'
                  - starforged/moves/adventure/gather_information
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: Using your knowledge of lifeforms or planetside ecosystems
                      roll_options: null
                      method: null
          - text: |-
              When you make a move by taking a risky action to pacify, avoid, or outwit a creature (decide before rolling), you may reroll any dice, but must [Lose Momentum](id:starforged/moves/suffer/lose_momentum) (-2).
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: By taking a risky action to pacify, avoid, or outwit a creature
                      method: null
                      roll_options: null
          - text: |-
              You are skilled at planetside survival. When you [Resupply](id:starforged/moves/recover/resupply) to scavenge resources in a life-bearing natural environment, take +1 supply on a hit. When you [Face Danger](id:starforged/moves/adventure/face_danger) against an environmental threat, add +1 and take +1 momentum on a hit.
            enhance_moves:
              - enhances:
                  - starforged/moves/recover/resupply
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: To scavenge resources in a life-bearing natural environment
                      roll_options: null
                      method: null
              - enhances:
                  - 'starforged/moves/*/face_danger'
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: Against an environmental threat
                      roll_options: null
                      method: null

      navigator:
        name: Navigator
        <<: *PathAsset
        abilities:
          - text: |-
              When you [Set a Course](id:starforged/moves/exploration/set_a_course), choose one.

                * Follow the fastest path: Take +2 momentum on a strong hit.
                * Follow the safest path: Add +1

              On a strong hit with a match, you charted a new path during the journey; mark 1 tick on your discoveries legacy track.
            enabled: true
            # TODO: split triggers
            enhance_moves:
              - enhances:
                  - starforged/moves/exploration/set_a_course
                roll_type: action_roll
                #   Choose one.

                #     * Follow the fastest path: Take +2 momentum on a strong hit.
                #     * Follow the safest path: Add +1
          - text: |-
              When you [Secure an Advantage](id:starforged/moves/adventure/secure_an_advantage) by charting the way forward, [Face Danger](id:starforged/moves/adventure/face_danger) to find a path around a hazard, or [Gather Information](id:starforged/moves/adventure/gather_information) about a location by studying your charts, add +1 and take +1 momentum on a hit.
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/secure_an_advantage'
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By charting the way forward
                      roll_options: null
                      method: null

              - enhances:
                  - 'starforged/moves/*/face_danger'
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: To find a path around a hazard
                      roll_options: null
                      method: null

              - enhances:
                  - starforged/moves/adventure/gather_information
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: About a location by studying your charts
                      roll_options: null
                      method: null

          - text: |-
              Once per expedition, when you or an ally [Undertake an Expedition](id:starforged/moves/exploration/undertake_an_expedition) and score a weak hit or miss, you may ignore that result, plot an alternate path, and make it an automatic strong hit.
            enhance_moves:
              - enhances:
                  - starforged/moves/exploration/undertake_an_expedition
                roll_type: action_roll
                trigger:
                  conditions:
                    - roll_options: null
                      method: null
                      by:
                        player: true
                        ally: true
      outcast:
        name: Outcast
        <<: *PathAsset
        abilities:
          - text: |-
              When you [Hearten](id:starforged/moves/recover/hearten) in isolation, you may attempt to find solace in fond memories or a hopeful wish. If you do (decide before rolling), reroll any dice but count a strong hit as a weak hit.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/recover/hearten
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: In isolation, attempting find solace in fond memories or a hopeful wish (decide before rolling)
                      roll_options: null
                      method: null
                #     count_as: weak_hit
          - text: &OutcastMove |-
              When you [Sacrifice Resources](id:starforged/moves/suffer/sacrifice_resources) and your supply is reduced to 0, roll +wits. On a strong hit, you manage to scrape by and take +1 supply. On a weak hit, you may [Lose Momentum](id:starforged/moves/suffer/lose_momentum) (-1) in exchange for +1 supply. On a miss, your supply remains at 0 and you [Lose Momentum](id:starforged/moves/suffer/lose_momentum) (-1).
            moves:
              scrape_by:
                name: Scrape By
                source: *AssetSource
                roll_type: action_roll
                trigger:
                  text: When you [Sacrifice Resources](id:starforged/moves/suffer/sacrifice_resources) and your supply is reduced to 0...
                  conditions:
                    - method: player_choice
                      roll_options:
                        - using: stat
                          stat: wits
                text: *OutcastMove
                outcomes:
                  strong_hit:
                    text: On a **strong hit**, you manage to scrape by and take +1 supply.
                  weak_hit:
                    text: On a **weak hit**, you may [Lose Momentum](id:starforged/moves/suffer/lose_momentum) (-1) in exchange for +1 supply.
                  miss:
                    text: On a **miss**, your supply remains at 0 and you [Lose Momentum](id:starforged/moves/suffer/lose_momentum) (-1).
          - text: |-
              When you or an ally [Sojourn](id:starforged/moves/recover/sojourn) and score a strong hit with a match, you may envision encountering someone who knows or understands you. If you [Make a Connection](id:starforged/moves/connection/make_a_connection) with them, take an automatic strong hit and mark 2 ticks on your bonds legacy track.
            enhance_moves:
              - enhances:
                  - starforged/moves/recover/sojourn
                roll_type: action_roll
                trigger:
                  conditions:
                    - roll_options: null
                      method: null
                      by:
                        player: true
                        ally: true
      scavenger:
        name: Scavenger
        <<: *PathAsset
        abilities:
          - text: |-
              When you [Gather Information](id:starforged/moves/adventure/gather_information) or [Resupply](id:starforged/moves/recover/resupply) by scavenging a wreck, ruin, or abandoned site, add +1 and take +1 momentum on a hit. On a strong hit with a match, you also find something of unique value, significance, or function; envision the nature of this discovery, take +2 momentum, and mark 2 ticks on your discoveries legacy track.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/adventure/gather_information
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By scavenging a wreck, ruin, or abandoned site
                      roll_options: null
                      method: null
          - text: |-
              When you [Secure an Advantage](id:starforged/moves/adventure/secure_an_advantage) to cobble together an ad hoc tool, device, or weapon, envision what you intend to create. On a hit, you may add +1 when making a move aided by the item. If you roll a 1 on your action die while using the item, it is permanently broken, lost, or depleted.
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/secure_an_advantage'
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: To cobble together an ad hoc tool, device, or weapon
                      roll_options: null
                      method: null
          - text: |-
              When you [Check Your Gear](id:starforged/moves/adventure/check_your_gear), roll +wits or +supply (whichever is highest) and take +1 momentum on a hit.
            enhance_moves:
              - enhances:
                  - starforged/moves/adventure/check_your_gear
                roll_type: action_roll
                trigger:
                  conditions:
                    - method: highest
                      roll_options:
                        - using: stat
                          stat: wits
                        - using: condition_meter
                          condition_meter: supply
      scoundrel:
        name: Scoundrel
        <<: *PathAsset
        abilities:
          - text: |-
              When you make a move by lying, bluffing, stealing, or cheating, add +2. On a strong hit with a match, your deception creates an unexpected opportunity; take the value of your shadow as +momentum.
            enabled: true
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: By lying, bluffing, stealing, or cheating
                      roll_options: null
                      method: null
          - text: |-
              When you [Make a Connection](id:starforged/moves/connection/make_a_connection) to search out a new contact, you may roll +shadow. If you do, reroll any dice on a miss and envision how your reputation or underworld contacts lead you to a disreputable connection.
            enhance_moves:
              - enhances:
                  - starforged/moves/connection/make_a_connection
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: To search out a new contact
                      method: player_choice
                      roll_options:
                        - using: stat
                          stat: shadow
          - text: |-
              When you make a quick escape or con your way out of a situation and burn momentum to gain a strong hit, take +1 momentum after you reset. If you envision how this momentary success leaves you fated for future trouble, mark 2 ticks on your quests legacy track.
            # augment_player:
            #   momentum:
            #     burn:
            #       - trigger:
            #         effect:

            # TODO: momentum burn trigger
      seer:
        name: Seer
        <<: *PathAsset
        abilities:
          - text: |-
              When you envision experiencing a prophetic dream, you may [Ask the Oracle](id:starforged/moves/fate/ask_the_oracle) for details using an interpretive oracle such as Action/Theme or Descriptor/Focus. If you record the answer, and later face a situation which gives truth to the vision, take an automatic strong hit (one time only) when making a move to act on your foresight. Then, clear the prophecy. Only one prophecy can be active at a time.
            enabled: true
            # TODO: as move?
          - text: |-
              When you focus or meditate to [Gather Information](id:starforged/moves/adventure/gather_information) about a place, being, or situation (in person or remotely), roll +spirit and take +1 momentum on a hit.
            enhance_moves:
              - enhances:
                  - starforged/moves/adventure/gather_information
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you focus or meditate to [Gather Information](id:starforged/moves/adventure/gather_information) about a place, being, or situation (in person or remotely)
                      method: player_choice
                      roll_options:
                        - using: condition_meter
                          condition_meter: spirit
          - text: |-
              When you or an ally roll a match as you [Sojourn](id:starforged/moves/recover/sojourn) in a community or [Undertake an Expedition](id:starforged/moves/exploration/undertake_an_expedition) within a site, you may envision gaining sudden and unbidden insight about the location. If you do, take +2 momentum.
            enhance_moves:
              - enhances:
                  - starforged/moves/exploration/undertake_an_expedition
                roll_type: action_roll
                trigger:
                  conditions:
                    - roll_options: null
                      method: null
                      text: Within a site
                      by:
                        player: true
                        ally: true
              - enhances:
                  - starforged/moves/recover/sojourn
                roll_type: action_roll
                trigger:
                  conditions:
                    - roll_options: null
                      method: null
                      by:
                        player: true
                        ally: true
      shade:
        name: Shade
        <<: *PathAsset
        abilities:
          - text: |-
              Drawing on esoteric energies, you may instantly cloak your form in the shadowy veil of the void. When you are veiled and make a move to ambush, hide, or sneak, you may preset your action die to 5. In darkness, make it 6. On a miss, in addition to any other cost, you are revealed and can’t veil yourself again until the current situation is resolved.
            enabled: true
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - roll_options: null
                      method: null
                      text: When you are veiled and make a move to ambush, hide, or sneak (not in darkness)
                # Preset:
                #   - die: Action die
                #     value: 5
              - roll_type: action_roll
                trigger:
                  conditions:
                    - roll_options: null
                      method: null
                      text: When you are veiled and make a move to ambush, hide, or sneak (in darkness)
                # Preset:
                #   - die: Action die
                #     value: 6
          - text: &ShadeMove |-
              When you expand your veil to immerse your surroundings in darkness, roll +shadow. On a strong hit, the darkness extends to all adjacent spaces. On a weak hit, only your immediate surroundings are made dark. On a miss, you fail and draw unwanted attention.
            moves:
              shroud_in_darkness:
                name: Shroud in Darkness
                source: *AssetSource
                roll_type: action_roll
                trigger:
                  text: When you expand your veil to immerse your surroundings in darkness...
                  conditions:
                    - method: player_choice
                      roll_options:
                        - using: stat
                          stat: shadow
                text: *ShadeMove
                outcomes:
                  strong_hit:
                    text: On a **strong hit**, the darkness extends to all adjacent spaces.
                  weak_hit:
                    text: On a **weak hit**, only your immediate surroundings are made dark.
                  miss:
                    text: On a **miss**, you fail and draw unwanted attention.
          - text: |-
              When you intentionally drop your veil to reveal yourself for dramatic or surprising effect, foregoing its further use in this situation, take +2 momentum.
            # TODO: non move trigger?
      slayer:
        name: Slayer
        <<: *PathAsset
        abilities:
          - text: |-
              When you make a move to investigate, track, or stalk an inhuman foe, add +1 and take +1 momentum on a hit.
            enabled: true
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: To investigate, track, or stalk an inhuman foe
                      roll_options: null
                      method: null

          - text: |-
              When you [Swear an Iron Vow](id:starforged/moves/quest/swear_an_iron_vow) (formidable or greater) to slay an inhuman foe in service to a community, reroll any dice. When you [Fulfill Your Vow](id:starforged/moves/quest/fulfill_your_vow) and score a hit, also mark 2 ticks on your bonds legacy track.
            enhance_moves:
              - enhances:
                  - starforged/moves/quest/swear_an_iron_vow
                roll_type: action_roll
                trigger: &Slayer.trigger
                  conditions:
                    - text: To slay an inhuman foe in service to a community (formidable or greater)
                      roll_options: null
                      method: null
              - enhances:
                  - starforged/moves/quest/fulfill_your_vow
                roll_type: progress_roll
                trigger: *Slayer.trigger
          - text: |-
              When you [Enter the Fray](id:starforged/moves/combat/enter_the_fray) with an objective to slay an inhuman foe, take +2 momentum. If you choose to face the creature on its own terms as you begin the fight, envision the crucial weapon, protection, or aid you set aside, and set the objective one rank higher. If you [Take Decisive Action](id:starforged/moves/combat/take_decisive_action) after making this sacrifice and score a strong hit, take a trophy of your victory and mark 2 ticks on your quests legacy track.
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/enter_the_fray
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: With an objective to slay an inhuman foe
                      roll_options: null
                      method: null
      sleuth:
        name: Sleuth
        <<: *PathAsset
        abilities:
          - text: |-
              When you [Swear an Iron Vow](id:starforged/moves/quest/swear_an_iron_vow) to solve a murder, disappearance, theft, or other mystery, make the rank of the quest no greater than formidable. Then, when you [Gather Information](id:starforged/moves/adventure/gather_information) in the course of the investigation, roll three challenge dice and choose two. If any challenge dice match, you must use those values. On a miss with a match, envision what you learn of a deepening conspiracy or betrayal, make the rank of your quest one higher (no greater than epic), and use the new rank when marking future progress.
            enabled: true
            # TODO: some way of providing reminder text? hmm. the roll 3 dice but choose two (forced on a match) is interesting.
            enhance_moves:
              - enhances:
                  - starforged/moves/quest/swear_an_iron_vow
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: To solve a murder, disappearance, theft, or other mystery (no greater than formidable)
                      roll_options: null
                      method: null
          - text: |-
              When you make a move to avoid detection as you put a person or place under surveillance, add +1 and take +1 momentum on a hit.
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: To avoid detection as you put a person or place under surveillance
                      roll_options: null
                      method: null

          - text: |-
              When you [Make a Connection](id:starforged/moves/connection/make_a_connection) with a potential informant, you may (instead of rolling) take an automatic weak hit.
            enhance_moves:
              - enhances:
                  - starforged/moves/connection/make_a_connection
                roll_type: action_roll
                trigger:
                  conditions:
                    - roll_options: null
                      text: With a potential informant
                      method: weak_hit
      sniper:
        name: Sniper
        <<: *PathAsset
        requirement: If you wield a rifle...
        abilities:
          - text: &SniperMove |-
              When you target a minor foe from a distance (outside of a fight), roll +wits. On a strong hit, they are out of action. If other foes remain and you [Enter the Fray](id:starforged/moves/combat/enter_the_fray) against them, mark progress. On a weak hit, as above, but you sacrifice time or position; [Lose Momentum](id:starforged/moves/suffer/lose_momentum) (-1). On a miss, you draw attention or face a reprisal; [Pay the Price](id:starforged/moves/fate/pay_the_price).
            enabled: true
            moves:
              snipe_minor_foe:
                name: Snipe Minor Foe
                source: *AssetSource
                roll_type: action_roll
                trigger:
                  text: When you target a minor foe from a distance (outside of a fight)...
                  conditions:
                    - method: player_choice
                      roll_options:
                        - using: stat
                          stat: wits
                text: *SniperMove
                outcomes:
                  strong_hit:
                    text: On a **strong hit**, the foe is out of action. If other foes remain and you [Enter the Fray](id:starforged/moves/combat/enter_the_fray) against them, mark progress.
                  weak_hit:
                    text: |-
                      On a **weak hit**, the foe is out of action. However, you sacrifice time or position; [Lose Momentum](id:starforged/moves/suffer/lose_momentum) (-1).

                      If other foes remain and you [Enter the Fray](id:starforged/moves/combat/enter_the_fray) against them, mark progress.
                  miss:
                    text: On a **miss**, you draw attention or face a reprisal; [Pay the Price](id:starforged/moves/fate/pay_the_price).
          - text: |-
              When you [Strike](id:starforged/moves/combat/strike) from a distance with time enough to line up your shot, you may roll +wits. If you do, mark progress on a strong hit.
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/strike
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: From a distance with time enough to line up your shot
                      method: player_choice
                      roll_options:
                        - using: stat
                          stat: wits
          - text: |-
              When you [Secure an Advantage](id:starforged/moves/adventure/secure_an_advantage) by studying a distant situation through your rifle scope, or [Gain Ground](id:starforged/moves/combat/gain_ground) by taking careful aim, you may sacrifice time for greater certainty. If you do (decide before rolling), [Lose Momentum](id:starforged/moves/suffer/lose_momentum) (-1, -2, or -3) and add that amount. Then, take +1 momentum on a strong hit.
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/secure_an_advantage'
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By studying a distant situation through your rifle scope
                      roll_options: null
                      method: null
              - enhances:
                  - starforged/moves/adventure/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By taking careful aim
                      roll_options: null
                      method: null

      tech:
        name: Tech
        <<: *PathAsset
        abilities:
          - text: |-
              When you make a move to configure, optimize, hack, or disrupt an electronic system, add +1. On a weak hit, you can choose to press your luck. If you do, reroll all dice and add +2 (instead of +1).
            enabled: true
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: To configure, optimize, hack, or disrupt an electronic system
                      roll_options: null
                      method: null
          - text: |-
              When you [Withstand Damage](id:starforged/moves/suffer/withstand_damage) and score a miss, you may attempt to reroute power or reboot critical systems. If you do, first [Lose Momentum](id:starforged/moves/suffer/lose_momentum) (-2). Then, reroll all dice, add +wits instead of +integrity, and count a weak hit as a miss.
            enhance_moves:
              - enhances:
                  - starforged/moves/suffer/withstand_damage
                roll_type: action_roll
          - text: |-
              When you [Face Danger](id:starforged/moves/adventure/face_danger) or [Secure an Advantage](id:starforged/moves/adventure/secure_an_advantage) by creating a computer program to perform a specific, complex function, add +2 and take +1 momentum on a hit. One time only, when you trigger the program to fulfill its purpose, reroll any dice.
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/face_danger'
                  - 'starforged/moves/*/secure_an_advantage'
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By creating a computer program to perform a specific, complex function
                      roll_options: null
                      method: null
      trader:
        name: Trader
        <<: *PathAsset
        abilities:
          - text: |-
              When you [Sojourn](id:starforged/moves/recover/sojourn) or [Compel](id:starforged/moves/adventure/compel), you may roll +supply. If you do, [Sacrifice Resources](id:starforged/moves/suffer/sacrifice_resources) (-1).
            enhance_moves:
              - enhances:
                  - starforged/moves/recover/sojourn
                  - starforged/moves/adventure/compel
                roll_type: action_roll
                trigger:
                  conditions:
                    - roll_options:
                        - using: condition_meter
                          condition_meter: supply
                      method: player_choice
            enabled: true
          - text: |-
              When you [Make a Connection](id:starforged/moves/connection/make_a_connection) with a merchant or supplier, add +1. When you [Resupply](id:starforged/moves/recover/resupply) by bartering with them, reroll your action die if its value is less than your supply. On a strong hit, take +1 momentum or +1 supply.
            enhance_moves:
              - enhances:
                  - starforged/moves/connection/make_a_connection
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: With a merchant or supplier
                      roll_options: null
                      method: null
              - enhances:
                  - starforged/moves/recover/resupply
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By bartering with a merchant or supplier connection
                      roll_options: null
                      method: null
          - text: |-
              When you or an ally [Sojourn](id:starforged/moves/recover/sojourn) and score a strong hit with a match, you have a chance to secure a unique item or valuable payload. Envision the nature of the opportunity and the obstacle you must overcome to acquire it. If you are successful, mark 2 ticks on your quests legacy track. One time only, you may use this acquisition to gain an automatic strong hit on any move where your resources are a factor.
            enhance_moves:
              - enhances:
                  - starforged/moves/recover/make_a_connection
                roll_type: action_roll
                trigger:
                  conditions:
                    - roll_options: null
                      method: null
                      by:
                        player: true
                        ally: true
      vestige:
        name: Vestige
        <<: *PathAsset
        options:
          last_of:
            label: Last of
            field_type: text
        abilities:
          - text: |-
              You are all that remains of a people, culture, or tradition. When you [Face Death](id:starforged/moves/threshold/face_death) or [Face Desolation](id:starforged/moves/threshold/face_desolation), visions of your heritage give you the strength to carry on. Envision how this manifests, and reroll any dice. On a strong hit with a match, a surprising new aspect of your heritage is revealed; take +2 momentum and mark 2 ticks on your bonds legacy track.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/threshold/face_death
                  - starforged/moves/threshold/face_desolation
                roll_type: action_roll
          - text: |-
              When you [Secure an Advantage](id:starforged/moves/adventure/secure_an_advantage) or [Compel](id:starforged/moves/adventure/compel) through a tale, performance, or ceremony, envision what you reveal of your heritage. Then, add +1 and take +1 momentum on a hit.
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/secure_an_advantage'
                  - starforged/moves/adventure/compel
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: Through a tale, performance, or ceremony
                      method: null
                      roll_options: null
          - text: |-
              You carry a physical relic of your heritage. Envision its powers or nature. When you make a move directly aided by the relic and score a miss, you may reroll your action die.
            options:
              relic:
                label: Relic
                field_type: text
                # position: ability_2_bottom
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you make a move directly aided by the relic
                      roll_options: null
                      method: null
                #       # default text: "You may reroll your action die."
      veteran:
        name: Veteran
        <<: *PathAsset
        abilities:
          - text: |-
              When you are in a fight, increase your momentum reset by 1. Then, if you burn momentum to improve your result, add +1 on your next move.
            enabled: true
            # augment_player:
            #   momentum:
            #     reset:
            #       - trigger:
            #         value: 1
            #     burn:
            #       - trigger:
            #         effect:
          - text: |-
              When you [Make a Connection](id:starforged/moves/connection/make_a_connection), add +1. If you roll a match, you have a history.

                * On a strong hit with a match, you once fought beside them, and they owe you a favor. Mark 1 tick on your bonds legacy track, and [Develop Your Relationship](id:starforged/moves/connection/develop_your_relationship) now.
                * On a miss with a match, you once fought against them, and they hold a grudge.
            enhance_moves:
              - enhances:
                  - starforged/moves/connection/make_a_connection
                roll_type: action_roll
                #         You have a history: you once fought beside them, and they owe you a favor. Mark 1 tick on your bonds legacy track, and [Develop Your Relationship](id:starforged/moves/connection/develop_your_relationship) now.
          - text: |-
              When you [Secure an Advantage](id:starforged/moves/adventure/secure_an_advantage) or [Gain Ground](id:starforged/moves/combat/gain_ground) by recounting or recalling a hard-won lesson from your battlefield experiences, envision the memory and add +1. On a hit, take +1 momentum.
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/secure_an_advantage'
                  - starforged/moves/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By recounting or recalling a hard-won lesson from your battlefield experiences
                      roll_options: null
                      method: null
      voidborn:
        name: Voidborn
        <<: *PathAsset
        abilities:
          - text: |-
              You are most suited to life in the limitless void. When you are in space (or a spacebound vehicle or station), increase your momentum reset by 1. When you enter a planetside or high gravity environment, [Lose Momentum](id:starforged/moves/suffer/lose_momentum) (-1).
            enabled: true
          - text: |-
              When you [Sojourn](id:starforged/moves/recover/sojourn) or [Make a Connection](id:starforged/moves/connection/make_a_connection) within a spacebound community, add +1. If you [Hearten](id:starforged/moves/recover/hearten) there and score a strong hit, take +1 spirit or +1 momentum.
            enhance_moves:
              - enhances:
                  - starforged/moves/recover/sojourn
                  - starforged/moves/connection/make_a_connection
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: Within a spacebound community
                      roll_options: null
                      method: null
              - enhances:
                  - starforged/moves/recover/hearten
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: Within a spacebound community
                      roll_options: null
                      method: null
          - text: |-
              When you make a move to perform an agile physical maneuver (such as leaping or evading) in a low gravity environment, add +1 and take +1 momentum on a hit. On a strong hit with a match, you build speed or put yourself in perfect position; take another +1 momentum.
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: To perform an agile physical maneuver (such as leaping or evading) in a low gravity environment
                      roll_options: null
                      method: null
      weapon_master:
        name: Weapon Master
        <<: *PathAsset
        abilities:
          - text: |-
              You are a walking armory, with a weapon for every occasion. When you [Enter the Fray](id:starforged/moves/combat/enter_the_fray) in personal combat, add +1 and take +1 momentum on a hit. Once per fight, when you [Gain Ground](id:starforged/moves/combat/gain_ground) by switching weapons or changing tactics, take an automatic strong hit.
            enabled: true
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/enter_the_fray
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: In personal combat
                      roll_options: null
                      method: null

              - enhances:
                  - starforged/moves/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - roll_options: null
                      text: By switching weapons or changing tactics in personal combat (once per fight)
                      method: strong_hit
          - text: |-
              When you [Strike](id:starforged/moves/combat/strike) using a personal weapon which has limited ammo or a single-use mode, add +1 and mark progress on a hit. Then, [Sacrifice Resources](id:starforged/moves/suffer/sacrifice_resources) (-1). If you score a strong hit on this attack and immediately [Take Decisive Action](id:starforged/moves/combat/take_decisive_action), you may retain the value of one challenge die from your [Strike](id:starforged/moves/combat/strike) action instead of rolling that die.
            enhance_moves:
              - enhances:
                  - starforged/moves/combat/strike
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: Using a personal weapon which has limited ammo or a single-use mode
                      roll_options: null
                      method: null
          - text: |-
              When you [Secure an Advantage](id:starforged/moves/adventure/secure_an_advantage) by suiting up and gathering your gear for a perilous encounter or mission, you may roll +supply. If you do, take +2 momentum on a hit.
            enhance_moves:
              - enhances:
                  - 'starforged/moves/*/secure_an_advantage'
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: By suiting up and gathering your gear for a perilous encounter or mission
                      method: player_choice
                      roll_options:
                        - using: condition_meter
                          condition_meter: supply
